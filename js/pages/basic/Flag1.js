(function(){var t,e,i=function(t,e){return function(){return t.apply(e,arguments)}};e=function(){function t(){}return t.prototype.angle=23.5,t.prototype.depth=10,t}(),t=function(){function t(t){this.world=t,this.update=i(this.update,this)}var n,s;return n=30,s=30,t.prototype._angle=0,t.prototype._list=null,t.prototype.setup=function(){return this._list=new Array(n),this._setupGUI(),this._setupAxisHelper(),this._setupGround(),this.world.camera.position.z-=400,this.world.camera.lookAt(this.plane.position)},t.prototype.update=function(){var t,e,i,s,o,a,r,p,h;for(this.world.camera.position.x+=4*Math.sin(this._angle),this.world.camera.position.y+=8*Math.sin(this._angle),this.world.camera.position.z+=Math.cos(this._angle)*Math.sin(this._angle),this._angle+=.01*this._data.angle,e=Math.sin(this._angle),this._list.unshift(e),this._list.length>n&&this._list.pop(),h=this.plane.geometry.vertices,i=r=0,p=h.length;p>r;i=++r)a=h[i],s=this.originalGeometry.vertices[i],t=this._list[Math.floor(i/n)],o=Math.sin(t),a.z=s.z+o*this._data.depth;return this.plane.geometry.verticesNeedUpdate=!0},t.prototype._setupGUI=function(){var t;return t=new dat.GUI,this._data=new e,t.add(this._data,"angle",1,100),t.add(this._data,"depth",1,100)},t.prototype._setupGround=function(){var t,e,i;return t=new THREE.PlaneGeometry(300,500,n,s),e=new THREE.MeshBasicMaterial({map:THREE.ImageUtils.loadTexture("../../img/uni/HN1A.gif"),side:THREE.DoubleSide}),i=new THREE.Mesh(t,e),this.plane=i,this.originalGeometry=t.clone(),this.world.scene.add(i)},t.prototype._setupAxisHelper=function(){var t;return t=new THREE.AxisHelper(1e3),this.world.scene.add(t)},t}(),"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof exports?exports.Flag1=t:window.Flag1=t}).call(this);