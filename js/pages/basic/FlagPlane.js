(function(){var t,e={}.hasOwnProperty,i=function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t};t=function(t){function e(t,e){THREE.Mesh.call(this,t,e),this._init()}return i(e,t),e.prototype._init=function(){return this.rotation.y=180*Math.PI/180,this.originalGeometry=this.geometry.clone(),this._segmentsW=this.geometry.parameters.widthSegments+1,this._list=new Array(this._segmentsW),this._angle=0},e.prototype.updateYurayura=function(t,e){var i;return null==t&&(t=.24),this.depth=null!=e?e:20,this._angle+=t,i=Math.sin(this._angle),this._list.unshift(i),this._list.length>this._maxSegment&&this._list.pop(),this._updateVertex()},e.prototype._updateVertex=function(){var t,e,i,n,r,s,o,h;for(h=this.geometry.vertices,e=s=0,o=h.length;o>s;e=++s)r=h[e],i=this.originalGeometry.vertices[e],t=this._list[e%this._segmentsW],n=Math.sin(t),r.z=n?i.z+n*this.depth:i.z;return this.geometry.verticesNeedUpdate=!0},e}(THREE.Mesh),"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof exports?exports.FlagPlane=t:window.FlagPlane=t}).call(this);