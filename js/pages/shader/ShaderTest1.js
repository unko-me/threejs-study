var Stats=function(){var t=Date.now(),e=t,n=0,i=1/0,o=0,r=0,a=1/0,s=0,l=0,d=0,p=document.createElement("div");p.id="stats",p.addEventListener("mousedown",function(t){t.preventDefault(),w(++d%2)},!1),p.style.cssText="width:80px;opacity:0.9;cursor:pointer";var u=document.createElement("div");u.id="fps",u.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#002",p.appendChild(u);var c=document.createElement("div");c.id="fpsText",c.style.cssText="color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",c.innerHTML="FPS",u.appendChild(c);var h=document.createElement("div");for(h.id="fpsGraph",h.style.cssText="position:relative;width:74px;height:30px;background-color:#0ff",u.appendChild(h);74>h.children.length;){var m=document.createElement("span");m.style.cssText="width:1px;height:30px;float:left;background-color:#113",h.appendChild(m)}var f=document.createElement("div");f.id="ms",f.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#020;display:none",p.appendChild(f);var y=document.createElement("div");y.id="msText",y.style.cssText="color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",y.innerHTML="MS",f.appendChild(y);var v=document.createElement("div");for(v.id="msGraph",v.style.cssText="position:relative;width:74px;height:30px;background-color:#0f0",f.appendChild(v);74>v.children.length;)m=document.createElement("span"),m.style.cssText="width:1px;height:30px;float:left;background-color:#131",v.appendChild(m);var w=function(t){switch(d=t){case 0:u.style.display="block",f.style.display="none";break;case 1:u.style.display="none",f.style.display="block"}};return{REVISION:11,domElement:p,setMode:w,begin:function(){t=Date.now()},end:function(){var d=Date.now();n=d-t,i=Math.min(i,n),o=Math.max(o,n),y.textContent=n+" MS ("+i+"-"+o+")";var p=Math.min(30,30-30*(n/200));return v.appendChild(v.firstChild).style.height=p+"px",l++,d>e+1e3&&(r=Math.round(1e3*l/(d-e)),a=Math.min(a,r),s=Math.max(s,r),c.textContent=r+" FPS ("+a+"-"+s+")",p=Math.min(30,30-30*(r/100)),h.appendChild(h.firstChild).style.height=p+"px",e=d,l=0),d},update:function(){t=this.end()}}};(function(){!function(){var t;return t=new Stats,t.domElement.style.position="absolute",t.domElement.style.left="0px",t.domElement.style.top="0px",document.body.appendChild(t.domElement),setInterval(function(){t.begin(),t.end()},1e3/60)}()}).call(this),function(){var t;t=function(){function t(){}return t.canWebGL=function(){var t;try{return!!window.WebGLRenderingContext&&!!document.createElement("canvas").getContext("experimental-webgl")}catch(e){return t=e,!1}},t}(),"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof exports?exports.CanvasDetector=t:window.CanvasDetector=t}.call(this),function(){window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.option=t,this.update=e(this.update,this),this.render=e(this.render,this),this.onWindowResize=e(this.onWindowResize,this),this.setup=e(this.setup,this),this.scene=new THREE.Scene,this.setup()}return t.prototype.scene=null,t.prototype.camera=null,t.prototype.setup=function(){return this.setupCamera(),this.setupRenderer(),this.setupLights(),this.setupControl(),this.initNotify(),this._setup()},t.prototype._setup=function(){},t.prototype.initNotify=function(){return $(".notify").delay(2e3).fadeOut(1e3)},t.prototype.setupCamera=function(){return this.camera=new THREE.PerspectiveCamera(75,1.5,.1,5e3),this._setupCameraPos(),this._setupCameraLookAt()},t.prototype._setupCameraLookAt=function(){return this.camera.lookAt(new THREE.Vector3)},t.prototype._setupCameraPos=function(){return this.camera.position.set(400,1200,700)},t.prototype.setupRenderer=function(){var t;return this.renderer=Modernizr.webgl?new THREE.WebGLRenderer(null!=(t=this.option)?t.rendererParams:void 0):new THREE.CanvasRenderer,window.addEventListener("resize",this.onWindowResize),this.onWindowResize(),this._setupClearColor(),document.getElementById("renderer").appendChild(this.renderer.domElement)},t.prototype._setupClearColor=function(){var t,e,n,i,o,r;return e=(null!=(n=this.option)&&null!=(i=n.clear)?i.color:void 0)||0,t=(null!=(o=this.option)&&null!=(r=o.clear)?r.alpha:void 0)||1,this.renderer.setClearColor(e,t),this.renderer.autoClearColor=!1},t.prototype.setupLights=function(){return this._setupDirectionalLight(),this._setupAmbientLight()},t.prototype._setupAmbientLight=function(){var t,e;return(null!=(t=this.option)?t.amibientLight:void 0)?this.scene.add(new THREE.AmbientLight(null!=(e=this.option)?e.amibientLight.color:void 0)):void 0},t.prototype._setupDirectionalLight=function(){return this._directionalLight=new THREE.DirectionalLight(16777215,2),this._directionalLight.position.set(0,300,100),this.scene.add(this._directionalLight)},t.prototype.setupControl=function(){return this.control=new THREE.TrackballControls(this.camera,this.renderer.domElement)},t.prototype.onWindowResize=function(){return this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)},t.prototype.render=function(){return this.renderer.render(this.scene,this.camera)},t.prototype.update=function(){var t;return null!=(t=this.control)&&t.update(),this._update(),this.render(),requestAnimationFrame(this.update)},t.prototype._update=function(){},t.prototype.startLoop=function(){return this.update()},t}(),"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof exports?exports.BaseWorld=t:window.BaseWorld=t}.call(this),function(){var t,e,n={}.hasOwnProperty,i=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};e=360,t=function(t){function n(){n.__super__.constructor.call(this,{amibientLight:{color:3355443}})}return i(n,t),n.prototype._setup=function(){return this.camera.position.set(0,200,200),this._setupShader()},n.prototype._setupShader=function(){var t,n,i,o,r,a,s,l,d,p;for(this._startTime=Date.now(),p=document.getElementById("vertexshader").textContent,n=document.getElementById("fragmentshader").textContent,s=THREE.ImageUtils.loadTexture("../../img/particle/gogogo.png"),l={time:{type:"f",value:0},size:{type:"f",value:120},startColor:{type:"c",value:new THREE.Color(16711680)},offsetColor:{type:"c",value:new THREE.Color(16776960)},texture:{type:"t",value:s}},t={lifetime:{type:"f",value:[]},shift:{type:"f",value:[]}},o=new THREE.ShaderMaterial({vertexShader:p,fragmentShader:n,uniforms:l,attributes:t,blending:THREE.AdditiveBlending,transparent:!0,depthTest:!1}),i=new THREE.Geometry,t=o.attributes,r=0;e>r;)d=new THREE.Vector3(1200*(Math.random()-.5),500+20*(Math.random()-.5),1200*(Math.random()-.5)),i.vertices.push(d),l.size.value=60+30*Math.random(),l.startColor.value.r=.8+.24*Math.random(),l.startColor.value.g=.24+.12*Math.random(),l.offsetColor.value.r=.8+.24*Math.random()-l.startColor.value.r,l.offsetColor.value.g=.24+.12*Math.random()-l.startColor.value.g,t.lifetime.value.push(2.4),t.shift.value.push(2.4*Math.random()),r++;a=new THREE.PointCloud(i,o),a.sortParticles=!1,this.scene.add(a),this.particles=a},n.prototype._update=function(){return this._updateParticle()},n.prototype._updateParticle=function(){return this.particles.material.uniforms.time.value=(Date.now()-this._startTime)/3e3},n}(BaseWorld),(new t).startLoop()}.call(this);