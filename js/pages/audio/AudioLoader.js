(function(){var o,t=function(o,t){return function(){return o.apply(t,arguments)}};o=function(){function o(o,n,e){this._onLoad=t(this._onLoad,this);var r;this._success=n,this._error=e,window.AudioContext=window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.msAudioContext,this._context=new AudioContext,r=new XMLHttpRequest,r.open("GET",o,!0),r.responseType="arraybuffer",r.onload=this._onLoad,r.send()}return o.prototype._onLoad=function(o){return this.arrayBuffer=o.target.response,this.convert()},o.prototype.convert=function(){return this._context.decodeAudioData(this.arrayBuffer,function(o){return function(t){return o.audioBuffer=t,console.log("buffer end"),"function"==typeof o._success&&o._success(t),o._success=null,o._error=null}}(this))},o}(),"function"==typeof define&&define.amd?define(function(){return o}):"object"==typeof exports?exports.AudioLoader=o:window.AudioLoader=o}).call(this);