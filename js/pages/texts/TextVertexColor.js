(function(){var t;t=function(){function t(){}return t.canWebGL=function(){var t;try{return!!window.WebGLRenderingContext&&!!document.createElement("canvas").getContext("experimental-webgl")}catch(e){return t=e,!1}},t}(),"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof exports?exports.CanvasDetector=t:window.CanvasDetector=t}).call(this),function(){window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.option=t,this.update=e(this.update,this),this.render=e(this.render,this),this.onWindowResize=e(this.onWindowResize,this),this.setup=e(this.setup,this),this.scene=new THREE.Scene,this.setup()}return t.prototype.scene=null,t.prototype.camera=null,t.prototype.setup=function(){return this.setupCamera(),this.setupRenderer(),this.setupLights(),this.setupControl(),this.initNotify(),this._setup()},t.prototype._setup=function(){},t.prototype.initNotify=function(){return $(".notify").delay(2e3).fadeOut(1e3)},t.prototype.setupCamera=function(){return this.camera=new THREE.PerspectiveCamera(75,1.5,.1,5e3),this._setupCameraPos(),this._setupCameraLookAt()},t.prototype._setupCameraLookAt=function(){return this.camera.lookAt(new THREE.Vector3)},t.prototype._setupCameraPos=function(){return this.camera.position.set(400,1200,700)},t.prototype.setupRenderer=function(){var t;return this.renderer=Modernizr.webgl?new THREE.WebGLRenderer(null!=(t=this.option)?t.rendererParams:void 0):new THREE.CanvasRenderer,window.addEventListener("resize",this.onWindowResize),this.onWindowResize(),this._setupClearColor(),document.getElementById("renderer").appendChild(this.renderer.domElement)},t.prototype._setupClearColor=function(){var t,e,o,n,r,i;return e=(null!=(o=this.option)&&null!=(n=o.clear)?n.color:void 0)||0,t=(null!=(r=this.option)&&null!=(i=r.clear)?i.alpha:void 0)||1,this.renderer.setClearColor(e,t),this.renderer.autoClearColor=!1},t.prototype.setupLights=function(){return this._setupDirectionalLight(),this._setupAmbientLight()},t.prototype._setupAmbientLight=function(){var t,e;return(null!=(t=this.option)?t.amibientLight:void 0)?this.scene.add(new THREE.AmbientLight(null!=(e=this.option)?e.amibientLight.color:void 0)):void 0},t.prototype._setupDirectionalLight=function(){return this._directionalLight=new THREE.DirectionalLight(16777215,2),this._directionalLight.position.set(0,300,100),this.scene.add(this._directionalLight)},t.prototype.setupControl=function(){return this.control=new THREE.TrackballControls(this.camera,this.renderer.domElement)},t.prototype.onWindowResize=function(){return this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)},t.prototype.render=function(){return this.renderer.render(this.scene,this.camera)},t.prototype.update=function(){var t;return null!=(t=this.control)&&t.update(),this._update(),this.render(),requestAnimationFrame(this.update)},t.prototype._update=function(){},t.prototype.startLoop=function(){return this.update()},t}(),"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof exports?exports.BaseWorld=t:window.BaseWorld=t}.call(this),function(){var t,e={}.hasOwnProperty,o=function(t,o){function n(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t};t=function(t){function e(){e.__super__.constructor.call(this,{rendererParams:{preserveDrawingBuffer:!0},amibientLight:{color:3355443},clear:{color:0,alpha:.9}})}return o(e,t),e.prototype._setupCameraPos=function(){return this.camera.position.set(0,0,300)},e.prototype._setup=function(){return this._setupText(),this._click=!0,$(window).on("click",function(t){return function(){return t._click=!t._click}}(this))},e.prototype._setupText=function(){var t,e,o,n,r,i;return i="SENSORS",i="\u30bb\u30fb\u30ea\u30fc\u30b0",i="\u6771\u4eac\u90fd\u8db3\u7acb\u533a",n=new THREE.TextGeometry(i,{size:80,height:0,curveSegments:1,font:"pixelmplus12"}),this.textGeometry=n,n.computeBoundingBox(),t=-.5*(n.boundingBox.max.x-n.boundingBox.min.x),r=new THREE.MeshBasicMaterial({color:16777215,shading:THREE.FlatShading,vertexColors:THREE.VertexColors}),this.textMaterial=r,this._setVertexColor(),o=new THREE.Mesh(n,r),this.textMaterial=r,o.position.x=t,o.position.y=0,o.position.z=0,o.rotation.x=0,o.rotation.y=2*Math.PI,e=new THREE.Object3D,e.add(o),this.scene.add(e),this._text=o,this.originalBox=this._text.geometry.clone()},e.prototype._setVertexColor=function(){var t,e,o,n,r,i,s,a;for(s=this.textGeometry.faces,a=[],r=0,i=s.length;i>r;r+=1)e=s[r],n=e instanceof THREE.Face3?3:4,a.push(function(){var r,i;for(i=[],o=r=0;n>=0?n>r:r>n;o=n>=0?++r:--r)t=new THREE.Color(0),t.setHSL(.1*Math.random()+this._offset,.1*Math.random()+.9,.5*Math.random()+.3),i.push(e.vertexColors[o]=t);return i}.call(this));return a},e.prototype._setupGround=function(){var t,e,o;return e=new THREE.MeshLambertMaterial({color:3355443}),t=new THREE.PlaneGeometry(6e3,6e3,10,10),o=new THREE.Mesh(t,e),this.scene.add(o),o.rotation.x=-90*Math.PI/180},e.prototype._offset=Math.random(),e.prototype._update=function(){if(this._click&&(this._offset+=.05,this._offset>1&&(this._offset=0)),this._yuragi>.1){if(this._yuragi+=.039*(0-this._yuragi),this._yurayura(),Math.random()<.4)return this._setVertexColor(),this.textGeometry.colorsNeedUpdate=!0}else if(Math.random()<.5)return this._setVertexColor(),this.textGeometry.colorsNeedUpdate=!0},e.prototype._yuragi=2e3,e.prototype._yurayura=function(){var t,e,o,n,r,i,s;for(s=this._text.geometry.vertices,t=r=0,i=s.length;i>r;t=++r)o=s[t],e=this.originalBox.vertices[t],n=Math.random()*this._yuragi-.5*this._yuragi,o.x+=.7*(e.x-(o.x+n)),o.y+=.7*(e.y-(o.y+n));return this._text.geometry.verticesNeedUpdate=!0},e}(BaseWorld),"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof exports?exports.TextVertexColor=t:window.TextVertexColor=t,(new t).startLoop()}.call(this);