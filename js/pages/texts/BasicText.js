(function(){var t,e,i=function(t,e){return function(){return t.apply(e,arguments)}};e="UNKO",t=function(){function t(t){this.world=t,this._updateCamera=i(this._updateCamera,this),this.update=i(this.update,this),this._invertWire=i(this._invertWire,this)}return t.prototype.setup=function(){return this._setupCamera(),this._setupText(),$(window).on("click",function(t){return function(){return t._invertWire(),console.log("@textMaterial.wireframe :",t.textMaterial.wireframe)}}(this))},t.prototype._invertWire=function(){return this.textMaterial.wireframe=!this.textMaterial.wireframe},t.prototype.update=function(){return this._yurayura(),this._updateCamera(),this.textMaterial.color.setHex(16777215*Math.random()),Math.random()<.04?this._invertWire():void 0},t.prototype._angle=0,t.prototype._updateCamera=function(){return this.world.camera.position.x+=2*Math.sin(this._angle),this.world.camera.position.y+=3*Math.cos(.2*this._angle),this._text.rotation.y=1.2*Math.cos(this._angle+=.03)+30*(Math.PI/180)},t.prototype._yurayura=function(){var t,e,i,r,o,n;for(n=this._text.geometry.vertices,t=r=0,o=n.length;o>r;t=++r)i=n[t],e=this.originalBox.vertices[t],i.x+=.7*(e.x-(i.x+(20*Math.random()-10))),i.y+=.7*(e.y-(i.y+(20*Math.random()-10))),i.z+=.7*(e.z-(i.z+(20*Math.random()-10)));return this._text.geometry.verticesNeedUpdate=!0},t.prototype._setupCamera=function(){return this.world.camera.position.set(0,0,170)},t.prototype._setupText=function(){var t,e,i,r,o,n;return n=this._getText(),r=new THREE.TextGeometry(n,{size:80,height:20,curveSegments:2,font:"helvetiker"}),r.computeBoundingBox(),t=-.5*(r.boundingBox.max.x-r.boundingBox.min.x),o=new THREE.MeshBasicMaterial({color:16777215*Math.random()+65535,overdraw:.5}),i=new THREE.Mesh(r,o),this.textMaterial=o,i.position.x=t,i.position.y=0,i.position.z=0,i.rotation.x=0,i.rotation.y=2*Math.PI,e=new THREE.Object3D,e.add(i),this.world.scene.add(e),this._text=i,this.originalBox=this._text.geometry.clone()},t.prototype._getText=function(){var t,i;return i=e,t=document.location.hash.substr(1),0!==t.length&&(i=t),i},t}(),"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof exports?exports.BasicText=t:window.BasicText=t}).call(this);