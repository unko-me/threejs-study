THREE.OBJLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.OBJLoader.prototype={constructor:THREE.OBJLoader,load:function(e,t,r,a){var n=this,d=new THREE.XHRLoader(n.manager);d.setCrossOrigin(this.crossOrigin),d.load(e,function(e){t(n.parse(e))},r,a)},parse:function(e){function t(e){var t=parseInt(e);return 3*(t>=0?t-1:t+m.length/3)}function r(e){var t=parseInt(e);return 3*(t>=0?t-1:t+E.length/3)}function a(e){var t=parseInt(e);return 2*(t>=0?t-1:t+f.length/2)}function n(e,t,r){l.vertices.push(m[e],m[e+1],m[e+2],m[t],m[t+1],m[t+2],m[r],m[r+1],m[r+2])}function d(e,t,r){l.normals.push(E[e],E[e+1],E[e+2],E[t],E[t+1],E[t+2],E[r],E[r+1],E[r+2])}function o(e,t,r){l.uvs.push(f[e],f[e+1],f[t],f[t+1],f[r],f[r+1])}function s(e,s,i,l,u,v,m,E,f,c,p,h){var g=t(e),H=t(s),R=t(i);if(void 0===l)n(g,H,R);else{var T=t(l);n(g,H,T),n(H,R,T)}if(void 0!==u){var g=a(u),H=a(v),R=a(m);if(void 0===l)o(g,H,R);else{var T=a(E);o(g,H,T),o(H,R,T)}}if(void 0!==f){var g=r(f),H=r(c),R=r(p);if(void 0===l)d(g,H,R);else{var T=r(h);d(g,H,T),d(H,R,T)}}}console.time("OBJLoader");var i,l,u,v=[];/^o /gm.test(e)===!1&&(l={vertices:[],normals:[],uvs:[]},u={name:""},i={name:"",geometry:l,material:u},v.push(i));for(var m=[],E=[],f=[],c=/v( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,p=/vn( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,h=/vt( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,g=/f( +-?\d+)( +-?\d+)( +-?\d+)( +-?\d+)?/,H=/f( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))?/,R=/f( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))?/,T=/f( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))?/,b=e.split("\n"),w=0;w<b.length;w++){var F=b[w];F=F.trim();var A;0!==F.length&&"#"!==F.charAt(0)&&(null!==(A=c.exec(F))?m.push(parseFloat(A[1]),parseFloat(A[2]),parseFloat(A[3])):null!==(A=p.exec(F))?E.push(parseFloat(A[1]),parseFloat(A[2]),parseFloat(A[3])):null!==(A=h.exec(F))?f.push(parseFloat(A[1]),parseFloat(A[2])):null!==(A=g.exec(F))?s(A[1],A[2],A[3],A[4]):null!==(A=H.exec(F))?s(A[2],A[5],A[8],A[11],A[3],A[6],A[9],A[12]):null!==(A=R.exec(F))?s(A[2],A[6],A[10],A[14],A[3],A[7],A[11],A[15],A[4],A[8],A[12],A[16]):null!==(A=T.exec(F))?s(A[2],A[5],A[8],A[11],void 0,void 0,void 0,void 0,A[3],A[6],A[9],A[12]):/^o /.test(F)?(l={vertices:[],normals:[],uvs:[]},u={name:""},i={name:F.substring(2).trim(),geometry:l,material:u},v.push(i)):/^g /.test(F)||(/^usemtl /.test(F)?u.name=F.substring(7).trim():/^mtllib /.test(F)||/^s /.test(F)))}for(var B=new THREE.Object3D,w=0,y=v.length;y>w;w++){var i=v[w],l=i.geometry,L=new THREE.BufferGeometry;L.addAttribute("position",new THREE.BufferAttribute(new Float32Array(l.vertices),3)),l.normals.length>0&&L.addAttribute("normal",new THREE.BufferAttribute(new Float32Array(l.normals),3)),l.uvs.length>0&&L.addAttribute("uv",new THREE.BufferAttribute(new Float32Array(l.uvs),2));var u=new THREE.MeshLambertMaterial;u.name=i.material.name;var O=new THREE.Mesh(L,u);O.name=i.name,B.add(O)}return console.timeEnd("OBJLoader"),B}};