(function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e){this.world=e,this.update=t(this.update,this)}return e.prototype.setup=function(){return this._setupSkybox(),this._setupCubes()},e.prototype.update=function(){return this._updateCubes()},e.prototype._setupSkybox=function(){var e,t,o,i,n,r,s;for(n=["HN1A.gif","HNC1B.gif","aiko7N.gif","chiyoko1N.gif","kumikoN1A.gif","kumikoN1AA.gif"],t="/img/uni/",location.hostname.indexOf("github.io")>-1&&(t="/threejs-study"+t),e=[],r=0,s=n.length;s>r;r++)i=n[r],e.push(new THREE.MeshBasicMaterial({map:THREE.ImageUtils.loadTexture(t+i),side:THREE.BackSide}));return o=new THREE.Mesh(new THREE.BoxGeometry(500,500,500),new THREE.MeshFaceMaterial(e)),this.world.scene.add(o)},e.prototype._setupCubes=function(){var e,t,o,i,n,r,s;for(t=new THREE.BoxGeometry(10,10,10),this.originalBox=t.clone(),i=new THREE.MeshPhongMaterial({color:"#dd3b6f"}),n=this.world.scene,this.cubes=[],s=[],o=r=0;100>r;o=++r)e=new THREE.Mesh(t,i),e.position.set(o%10*15-50,15*Math.floor(o/10)-75,-30),n.add(e),s.push(this.cubes.push(e));return s},e.prototype._updateCubes=function(){var e,t,o,i,n,r,s,u,a,h;for(a=this.cubes,n=0,s=a.length;s>n;n++)e=a[n],e.rotation.x+=.01,e.rotation.y+=.01;for(e=this.cubes[0],h=e.geometry.vertices,t=r=0,u=h.length;u>r;t=++r)i=h[t],o=this.originalBox.vertices[t],i.x+=.7*(o.x-(i.x+(4*Math.random()-2))),i.y+=.7*(o.y-(i.y+(4*Math.random()-2))),i.z+=.7*(o.z-(i.z+(4*Math.random()-2)));e.geometry.verticesNeedUpdate=!0},e}(),"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof exports?exports.OreoreWorld=e:window.OreoreWorld=e}).call(this);